1
00:00:00,080 --> 00:00:04,880
In a moment I will ask you a puzzle and it&#39;s a 
pretty hard puzzle actually. But before I do,  

2
00:00:04,880 --> 00:00:09,520
I want to lead with a spoiler, which is the fact 
that the way we&#39;re going to solve this involves  

3
00:00:09,520 --> 00:00:14,879.9999999999982
the use of complex numbers. And once you hear 
it you will agree that that seems absurd given  

4
00:00:14,880 --> 00:00:19,600
that the puzzle is going to be purely a discrete 
question. It only asks about whole numbers and  

5
00:00:19,600 --> 00:00:24,480
their sums, there&#39;s not a whiff of the imaginary 
or even continuity anywhere on the horizon.  

6
00:00:25,040 --> 00:00:29,360
It&#39;s certainly not the only time that complex 
numbers are unreasonably useful for discrete  

7
00:00:29,360 --> 00:00:34,080
math to borrow a phrase. The more famous example 
that I could bring up would be how the modern way  

8
00:00:34,080 --> 00:00:38,320
that mathematicians understand prime numbers, you 
know questions about how they&#39;re distributed their  

9
00:00:38,320 --> 00:00:43,040
density at certain regions things like that, well 
it involves studying specially designed functions  

10
00:00:43,040 --> 00:00:47,600
whose inputs and outputs are complex numbers. 
Some of you may know that this is what the famous  

11
00:00:47,600 --> 00:00:52,400
Riemann hypothesis is all about. Basically there&#39;s 
a specially designed function and, on the face of  

12
00:00:52,400 --> 00:00:57,440
it, it looks unrelated to the discrete world of 
primes – it&#39;s smooth, it&#39;s complex valued. But  

13
00:00:57,440 --> 00:01:01,440
under the hood it encodes all of the information 
that you could ever want about those discrete  

14
00:01:01,440 --> 00:01:06,399.99999999998545
prime numbers and, most importantly, certain 
questions about primes are easier to answer  

15
00:01:06,400 --> 00:01:10,560
by analyzing this function than they would be 
by directly analyzing the primes themselves.  

16
00:01:11,120 --> 00:01:14,320.00000000001455
Of course our puzzle, which I promise 
I&#39;ll share in just a moment, is a lot  

17
00:01:14,320 --> 00:01:18,399.99999999998545
more innocent than the Riemann hypothesis; 
it&#39;s a toy problem. But at the end of the  

18
00:01:18,400 --> 00:01:22,800.0000000000146
video I&#39;ll share how the techniques that we use 
to solve it, the real reason that we&#39;re here,  

19
00:01:22,800 --> 00:01:26,960
are actually pretty similar in spirit to the 
setup that leads to the riemann hypothesis  

20
00:01:26,960 --> 00:01:29,759.9999999999854
and the prime number theorem and that 
whole circle of thoughts around it.

21
00:01:35,040 --> 00:01:40,80.00000000001455
Our puzzle for today comes from this book here 
by Titu Andreescu and Zuming Feng. It&#39;s basically  

22
00:01:40,080 --> 00:01:44,720
a collection of problems used in training the 
USA team for the international math olympiad.  

23
00:01:44,720 --> 00:01:49,760
And if we turn to chapter 2 advanced problems, 
problem number 10 asks this seemingly innocent  

24
00:01:49,760 --> 00:01:56,320.00000000001455
question “find the number of subsets of the set 
one up to two thousand, the sum of whose elements  

25
00:01:56,320 --> 00:02:02,160
is divisible by five”. Okay, so that might take 
a little bit of a moment to parse. For example,  

26
00:02:02,160 --> 00:02:07,280
something like the set three one four, that would 
be a subset, all of its elements are also elements  

27
00:02:07,280 --> 00:02:12,400
in the big set. And its sum, three plus one plus 
four, is eight so that wouldn&#39;t be considered,  

28
00:02:12,400 --> 00:02:17,120
that&#39;s not in our count. Whereas something 
like the set two three five, also a subset,  

29
00:02:17,120 --> 00:02:22,480.0000000000291
has a sum of ten that is divisible by five so it&#39;s 
one that we want to count. The preview animation  

30
00:02:22,480 --> 00:02:27,600
that I had at the start is essentially a brute 
force program trying to answer this question. It  

31
00:02:27,600 --> 00:02:32,799.9999999999709
will iterate through all of the different possible 
subsets finding the sum of each one along the way  

32
00:02:32,800 --> 00:02:37,120
and it increments a counter each time that it 
finds a multiple of five. And, you know what,  

33
00:02:37,120 --> 00:02:42,000
a nice warm-up question here would be to pause 
and think about how many total subsets are there  

34
00:02:42,000 --> 00:02:46,560
overall, forget this multiple of five stuff. How 
long will it take for this program to terminate?  

35
00:02:48,400 --> 00:02:53,440
Many of you may know the answer is 2 to the power 
2,000. The basic idea there is that when you&#39;re  

36
00:02:53,440 --> 00:02:58,480
constructing a subset you have 2,000 different 
binary choices you can make. Do you include an  

37
00:02:58,480 --> 00:03:03,519.9999999999709
element? or do not? and all of those choices are 
independent of each other so the total number of  

38
00:03:03,520 --> 00:03:08,880.0000000000291
choices you have in constructing a subset is 2 
times 2 times 2 times 2 on and on 2,000 times.  

39
00:03:09,600 --> 00:03:14,239.9999999999709
And, thinking about our program, that is a 
monstrously huge number. So even if we gave  

40
00:03:14,240 --> 00:03:18,160
this brute-forcing approach all the time in the 
universe, with all the physical resources the  

41
00:03:18,160 --> 00:03:22,880
universe could conceivably provide, it wouldn&#39;t 
even come close, it wouldn&#39;t scratch the surface.  

42
00:03:22,880 --> 00:03:26,880
Obviously we have to be a lot cleverer than 
that and if you were to just guess what the  

43
00:03:26,880 --> 00:03:30,240
answer should be make a rough approximation 
you&#39;d probably guess you know it should be  

44
00:03:30,240 --> 00:03:34,480.0000000000291
around a fifth of all the total subsets. There&#39;s 
probably a roughly even distribution of all these  

45
00:03:34,480 --> 00:03:39,519.9999999999709
sums mod five and yes that is true that&#39;s a decent 
approximation but the heart of the question the  

46
00:03:39,520 --> 00:03:44,560
real challenge here is to get a precise answer. 
This can&#39;t be the actual answer since it&#39;s not  

47
00:03:44,560 --> 00:03:48,880
an integer, but is the true answer a little 
bit more or a little bit less or maybe it&#39;s  

48
00:03:48,880 --> 00:03:53,440
a lot more or a lot less. What tactics could 
you possibly use to figure out that error?  

49
00:03:55,440 --> 00:04:00,000
To be clear, this lesson is definitely much 
more about the journey than the destination.  

50
00:04:00,000 --> 00:04:04,720
Will you ever need to filter and count subsets in 
this way? Almost certainly not, I wouldn&#39;t expect  

51
00:04:04,720 --> 00:04:10,800
so, but toy problem or not it is a legitimately 
challenging question and navigating that challenge  

52
00:04:10,800 --> 00:04:14,880.0000000000291
develops skills that are relevant to other 
sorts of challenging questions. For you and me,  

53
00:04:14,880 --> 00:04:19,680
there are at least two very surprising and very 
beautiful twists and turns that the solution I&#39;d  

54
00:04:19,680 --> 00:04:23,840.0000000000582
like to share with you takes. I&#39;ve already tipped 
my hand that complex numbers will make a surprise  

55
00:04:23,840 --> 00:04:28,799.9999999999418
appearance, but before we even get to that there 
is another strange turn which is arguably even  

56
00:04:28,800 --> 00:04:33,440
weirder and even more unexpected. To set the 
stage though, let&#39;s just get our bearings with  

57
00:04:33,440 --> 00:04:37,760
the puzzle and do what all good problem solvers 
should do and start with a simpler example,  

58
00:04:37,760 --> 00:04:42,159.9999999999418
maybe just trying it with the set one two three 
four five. IOf you were solving this problem  

59
00:04:42,160 --> 00:04:45,520.0000000000582
with pencil and paper, you know you&#39;re 
one of these kids training for the IMO,  

60
00:04:45,520 --> 00:04:50,799.9999999999418
it&#39;s not a bad idea to simply list out all two to 
the five subset, it&#39;s only 32, it&#39;s not that many.

61
00:04:55,600 --> 00:04:58,640.0000000000582
There&#39;s different ways that you might want 
to organize all of these in your mind,  

62
00:04:58,640 --> 00:05:03,39.99999999994179
but since the thing that we care about is 
their sum, the natural thing to do would be  

63
00:05:03,040 --> 00:05:07,760.0000000000582
to go through all of them one by one and compute 
those sums. Over here, just doing it on youtube,  

64
00:05:07,760 --> 00:05:12,159.9999999999418
I&#39;ve got a computer so I&#39;ll cheat a little and 
show what all their sums are. I&#39;ll also cheat a  

65
00:05:12,160 --> 00:05:16,960.0000000000582
little bit and rearrange all of these, organizing 
them suggestively into collections that all have  

66
00:05:16,960 --> 00:05:21,520
the same sum. For instance, there are three 
distinct subsets that add up to six and they&#39;ll  

67
00:05:21,520 --> 00:05:26,479.9999999999418
all sit in this little box and the three subsets 
adding up to 10 will all live in this little box.  

68
00:05:27,040 --> 00:05:31,600
And all in all the ones that we care about, 
the subsets with a sum divisible by five,  

69
00:05:31,600 --> 00:05:36,560
have been put over here on the left and it looks 
like there&#39;s a total of eight of them. Oh and,  

70
00:05:36,560 --> 00:05:41,600
by the way, I should say we are counting the 
empty set; we consider its sum to be zero and  

71
00:05:41,600 --> 00:05:45,600
we consider that to be a multiple of five. By 
the end, I hope you&#39;ll agree all of those are  

72
00:05:45,600 --> 00:05:49,840.0000000000582
abundantly natural choices to make. Take a 
moment to compare this answer to what you  

73
00:05:49,840 --> 00:05:56,479.9999999999418
might expect heuristically. Out of all 32 total 
subsets, a fifth of that would have been 6.4,  

74
00:05:56,480 --> 00:06:00,720
so at least in the small example the true answer 
is a little bit bigger than that. That&#39;s maybe  

75
00:06:00,720 --> 00:06:05,680
something you want to tuck in the back of your 
mind. Okay and this is the part of the video  

76
00:06:05,680 --> 00:06:10,320
where I&#39;ll be honest with you, I&#39;ve no idea how 
to motivate it personally. I like it when math  

77
00:06:10,320 --> 00:06:13,840
feels like something you could have discovered 
yourself and if you and I were sitting down  

78
00:06:13,840 --> 00:06:18,000
together solving this problem, I think there&#39;s 
all sorts of natural steps that you might take.  

79
00:06:18,000 --> 00:06:22,400
Maybe you try to understand if there&#39;s some sort 
of structure to the subsets or you play around  

80
00:06:22,400 --> 00:06:27,520
with how these sums are distributed mod 5 at many 
different iterations for other small examples and  

81
00:06:27,520 --> 00:06:31,680
from that maybe you try to eke out some kind 
of proof by induction. When I shared an early  

82
00:06:31,680 --> 00:06:35,520
version of this lesson with some patrons, people 
brought up some nice linear algebra approaches.  

83
00:06:35,520 --> 00:06:39,680
All those are well and good, nothing wrong with 
those, but instead my goal here is to teach you  

84
00:06:39,680 --> 00:06:44,240
about something called a generating function and 
it&#39;s one of those tactics where after the fact  

85
00:06:44,240 --> 00:06:49,040
you can think, okay, yeah I get that this works 
but how on earth would you have thought of that?  

86
00:06:49,600 --> 00:06:54,80.00000000005821
Honestly, I don&#39;t know. There&#39;s a time in your 
life before you understand generating functions  

87
00:06:54,080 --> 00:06:58,400
and a time after and I can&#39;t think of anything 
that connects them other than a leap of faith.  

88
00:06:59,120 --> 00:07:05,920
I&#39;m going to ask you to consider the polynomial 1 
plus x times 1 plus x squared times 1 plus x cubed  

89
00:07:05,920 --> 00:07:10,720
times 1 plus x to the fourth times 1 plus x to the 
fifth. Now I know you could rightfully ask where  

90
00:07:10,720 --> 00:07:14,720
does this come from? What do polynomials have 
to do with things? What is the variable x even  

91
00:07:14,720 --> 00:07:20,160
supposed to represent right now? And essentially 
x is purely a symbol, the only reason that we&#39;ve  

92
00:07:20,160 --> 00:07:25,200.0000000000582
written a polynomial here is that the act 
of algebraically expanding it is going to  

93
00:07:25,200 --> 00:07:31,680
completely mirror the act of constructing subsets 
and importantly this grouping that we want, where  

94
00:07:31,680 --> 00:07:37,120
subsets with the same sum are all bunched together 
kind of happens automatically when you do this  

95
00:07:37,120 --> 00:07:41,760
and let me show you what I mean. When you expand 
out this expression basically comes down to  

96
00:07:41,760 --> 00:07:47,280
making five binary choices: which term from each 
parenthetical do you choose? If you choose the  

97
00:07:47,280 --> 00:07:52,239.9999999999418
one from each of those parentheticals, that will 
correspond to the empty set where we don&#39;t choose  

98
00:07:52,240 --> 00:07:57,680
any of the elements. Whereas, if I choose the x to 
the one term and then ones from everything else,  

99
00:07:57,680 --> 00:08:02,480
that will correspond to the singleton set 
that just contains the number one. Similarly,  

100
00:08:02,480 --> 00:08:07,120
if I choose the x squared term, but ones from 
everything else, that corresponds to the set just  

101
00:08:07,120 --> 00:08:11,920
containing two. Just choosing the x cubed term 
corresponds to the set just containing the number  

102
00:08:11,920 --> 00:08:17,920
three. But, interestingly, notice what happens if 
I choose the x to the one term and the x squared  

103
00:08:17,920 --> 00:08:22,800
term and then ones from everything else. This 
corresponds to the choice of the subset that has  

104
00:08:22,800 --> 00:08:29,200
one and two and nothing from everything else, but 
in the polynomial, the way it expands looks like x  

105
00:08:29,200 --> 00:08:35,280
cubed. So we have two different x cubed terms each 
of which came from a subset whose sum was three.  

106
00:08:35,840.0000000000582 --> 00:08:39,680.0000000000582
And, honestly, the pattern that I&#39;m going for here 
is one that&#39;s probably easiest if you just take  

107
00:08:39,679.9999999999418 --> 00:08:43,679.9999999999418
the time to pause and think through for yourself 
what happens when you expand everything here.  

108
00:08:44,480 --> 00:08:49,440
Essentially every possible subset corresponds 
to one of the terms in this expansion  

109
00:08:49,440 --> 00:08:54,080
and then the critical point is that the exponent 
in the term that you get from that expansion  

110
00:08:54,080 --> 00:08:58,960
equals the sum of that corresponding subset. 
Kind of confusing when you say it out loud,  

111
00:08:58,960 --> 00:09:02,400.0000000001164
but again if you just kind of think it through 
yourself I think you can see what I mean.  

112
00:09:02,400 --> 00:09:06,720
For example, when all of the dust 
settles and we collect all 32 terms here,  

113
00:09:06,720 --> 00:09:11,760
three of those terms are x to the tenth and 
each of those came from a choice of elements  

114
00:09:11,760 --> 00:09:17,600
whose sum was equal to ten. Now normally when 
we write a polynomial, we collect together all  

115
00:09:17,600 --> 00:09:22,320
like terms so instead of having three copies of 
x to the tenth we would just see the coefficient  

116
00:09:22,320 --> 00:09:27,680.0000000001164
3 in front of x to the 10th. So each of these 
coefficients is a way of encoding the number  

117
00:09:27,680 --> 00:09:32,719.9999999998836
of subsets with a particular sum. So this, like 
I said at the start, is an example of something  

118
00:09:32,720 --> 00:09:38,000
called a generating function where the idea is if 
you have some question with an answer associated  

119
00:09:38,000 --> 00:09:43,280
with each positive integer. So, in our case, 
how many subsets add up to a particular value?  

120
00:09:43,280 --> 00:09:48,720
When you construct a polynomial whose coefficients 
correspond to the answers to that question, you  

121
00:09:48,720 --> 00:09:53,440
can get a surprising amount of insight from your 
original question by mathematically manipulating  

122
00:09:53,440 --> 00:09:58,720
and analyzing the properties of this polynomial. 
There are tons and tons of examples of generating  

123
00:09:58,720 --> 00:10:03,360
functions, but just to bring up one other one, 
which is especially fun, you can use the same idea  

124
00:10:03,360 --> 00:10:09,040
to study fibonacci numbers so all the coefficients 
of this polynomial will be fibonacci numbers. And,  

125
00:10:09,040 --> 00:10:12,800
in this case, it&#39;s an infinite polynomial so 
I should really be calling it a power series.  

126
00:10:13,440 --> 00:10:17,280.0000000001164
I won&#39;t fully explain the details here but I 
will leave them up on the screen for anyone who&#39;s  

127
00:10:17,280 --> 00:10:22,560
curious. The basic idea is that the rule that&#39;s 
used to define fibonacci numbers, each one being  

128
00:10:22,560 --> 00:10:26,719.9999999998836
the sum of the previous two, can be expressed 
as an equation in terms of this function.  

129
00:10:27,280 --> 00:10:32,480
That equation, in turn, lets you write that 
function in an alternate form and then,  

130
00:10:32,480 --> 00:10:36,800.0000000001164
and here&#39;s most of the details i&#39;m skipping over, 
if you manipulate that you know throw in a little  

131
00:10:36,800 --> 00:10:41,599.9999999998836
partial fraction decomposition here, a little 
bit of geometric series power expansion there,  

132
00:10:41,600 --> 00:10:46,080
you can get yourself an exact closed form 
expression for each individual fibonacci number,  

133
00:10:46,080 --> 00:10:50,400.0000000001164
which is really cool. I mentioned this really 
just to show the tip of the iceberg of the  

134
00:10:50,400 --> 00:10:55,120
fact that this idea of a generating function 
goes way way beyond our particular example.  

135
00:10:56,320 --> 00:11:01,40.000000000116415
Now, in our particular problem, if we extend 
from the simple example with just one two  

136
00:11:01,040 --> 00:11:05,839.9999999998836
three four five to the big example with all the 
numbers up to two thousand, our corresponding  

137
00:11:05,840 --> 00:11:10,400
generating function involves these two thousand 
different binomial terms, you know… one plus x,  

138
00:11:10,400 --> 00:11:15,520
one plus x squared on and on up to one plus x 
to the two thousand. And the idea is that if you  

139
00:11:15,520 --> 00:11:21,199.99999999988358
were to expand this the coefficients tell us all 
the information we want. Now it would be insane  

140
00:11:21,200 --> 00:11:25,600
to actually expand it but it is helpful to keep 
in the back of your mind in principle what that  

141
00:11:25,600 --> 00:11:30,560.0000000001164
would look like. For example, in principle if you 
expanded it, you would find that the coefficient  

142
00:11:30,560 --> 00:11:37,199.99999999988358
in front of the x to the 25th term happens to be 
142 and this corresponds to the fact that there  

143
00:11:37,200 --> 00:11:45,440
are 142 distinct subsets that have a sum of 25. 
So the art of analyzing a generating function here  

144
00:11:45,440 --> 00:11:55,920.0000000001164
will be to deduce facts about these coefficients 
without actually expanding the expression.

145
00:11:55,920 --> 00:12:00,719.9999999998836
So, moving forward, I&#39;m just going to write this 
expansion more abstractly – just a sum from n  

146
00:12:00,720 --> 00:12:05,920.0000000001164
equals 0 up to capital n, where c sub n tells 
us the coefficients that we don&#39;t know. All of  

147
00:12:05,920 --> 00:12:10,479.9999999998836
that starts off as a black box to us. And, moving 
forward, we&#39;re going to start treating this as an  

148
00:12:10,480 --> 00:12:14,960
actual function, something where we plug in x we 
see what the output is and then we ask what does  

149
00:12:14,960 --> 00:12:19,360
that tell us about the coefficients? For example, 
a very easy input would be to plug in something  

150
00:12:19,360 --> 00:12:24,640
like x equals 0. In that case, importantly, we 
know how to evaluate it using the factored form  

151
00:12:24,640 --> 00:12:30,160
above. If you plug in x equals 0 for everything, 
all of the terms look like 1 so the answer is 1.  

152
00:12:30,160 --> 00:12:34,560
And, in the expanded form, all of those terms 
involving an x will get killed, they go to 0,  

153
00:12:34,560 --> 00:12:39,760
leaving us just with the first term c sub 0. Now, 
in this case, that doesn&#39;t really tell us anything  

154
00:12:39,760 --> 00:12:44,319.9999999998836
all that exciting, it essentially translates to 
saying there is a single empty set, but we&#39;re  

155
00:12:44,320 --> 00:12:49,600
just getting our feet wet. As the next example, 
take a moment to think about evaluating f at one.  

156
00:12:50,240 --> 00:12:55,120
This is something we can do with the expression 
we know, when you plug in one for all of these x&#39;s  

157
00:12:55,120 --> 00:13:00,480
every term looks like a two, so in total we get 
two multiplied by itself two thousand times.  

158
00:13:00,480 --> 00:13:04,320
On the other hand, in the expanded 
expression if you plug in x equals one,  

159
00:13:04,960 --> 00:13:09,680.0000000001164
all of these powers of x go to 1, so we&#39;re 
essentially adding up all of the coefficients.  

160
00:13:09,680 --> 00:13:13,199.99999999988358
Which is pretty cool when you think about 
it, just by evaluating the function at a  

161
00:13:13,200 --> 00:13:16,880
single number we can deduce what the 
sum of all of the coefficients are.  

162
00:13:17,440 --> 00:13:22,000
Now, again, in our particular example 
it&#39;s not all that exciting, because  

163
00:13:22,000 --> 00:13:26,800
we already know what the sum of these coefficients 
are. Remember each coefficient counts how many  

164
00:13:26,800 --> 00:13:31,439.9999999998836
subsets have a certain sum and so when you add 
them up we&#39;re just counting all of the subsets  

165
00:13:31,440 --> 00:13:36,560.0000000001164
which we know to be two to the two thousand. 
However, I can give you a genuinely new fact  

166
00:13:36,560 --> 00:13:41,040
if I ask you to evaluate this function at negative 
1, take a moment to think about what that means.

167
00:13:43,360 --> 00:13:48,000
If you plug in negative 1, again we start with 
the thing we know, the factored expression up top,  

168
00:13:48,000 --> 00:13:51,360
and here all you need is to look at 
the first term when you plug in x  

169
00:13:51,360 --> 00:13:56,240
the first parenthetical goes to zero, so the 
whole expression has to be zero, but what does  

170
00:13:56,240 --> 00:14:00,720
that tell you when we apply it to the expanded 
expression using all of the coefficients? And,  

171
00:14:00,720 --> 00:14:05,40.000000000116415
in the spirit of being as suggestive as possible 
of the strange turns that this solution takes,  

172
00:14:05,040 --> 00:14:09,439.9999999998836
I want you to really visualize the various 
powers of negative one in this expression  

173
00:14:09,440 --> 00:14:14,400.0000000001164
in terms of rotations. The first term, negative 
one to the zero, is just one which we&#39;ll picture  

174
00:14:14,400 --> 00:14:20,000
as a vector from zero to one. Then negative one 
to the first power is just negative one itself  

175
00:14:20,000 --> 00:14:25,360
which I want you to be thinking about as a 
180 degree rotation away from that last term.  

176
00:14:25,360 --> 00:14:31,040
Then when we take negative one squared, that&#39;s 
positive one, again a 180 degree rotation and  

177
00:14:31,040 --> 00:14:36,560
in general each successive term here looks like 
another rotation by 180 degrees. Algebraically,  

178
00:14:36,560 --> 00:14:40,800
what this translates to is that we have an 
oscillating sum between the even coefficients and  

179
00:14:40,800 --> 00:14:45,680
the odd coefficients, but keep the visual in the 
back of your mind. This expression is true for any  

180
00:14:45,680 --> 00:14:50,160
generating function, but again for our special 
generating function we know that this value,  

181
00:14:50,160 --> 00:14:54,640
this alternating sum, should equal zero. And a 
way you can interpret that is that it&#39;s telling  

182
00:14:54,640 --> 00:14:58,880
you there&#39;s an equal balance between the 
even coefficients and the odd coefficients.  

183
00:14:59,440 --> 00:15:04,720
And, remember, maybe in the context of our smaller 
example these coefficients are encoding for  

184
00:15:04,720 --> 00:15:09,680.0000000001164
us facts about subsets, so if there&#39;s an equal 
balance between all those even coefficients and  

185
00:15:09,680 --> 00:15:15,199.99999999988358
the odd coefficients it&#39;s telling you that half of 
all the subsets have an even sum and half of them  

186
00:15:15,200 --> 00:15:19,840
have an odd sum. That&#39;s probably what you would 
expect, but it&#39;s not obvious at first how you  

187
00:15:19,840 --> 00:15:25,120
would show that and with the generating function 
it just kind of pops right out. And, again, to  

188
00:15:25,120 --> 00:15:29,760
be suggestive of where we&#39;re going, let me rewrite 
this a little bit by taking the last two things we  

189
00:15:29,760 --> 00:15:36,240
evaluated, add up those two and then divide by 
one half. If you think about it, this is a way  

190
00:15:36,240 --> 00:15:42,240
of filtering out all of the even coefficients and 
killing all of the odd coefficients. So it becomes  

191
00:15:42,240 --> 00:15:46,880
an especially clean way to write the fact that the 
sum of all of the even coefficients, which again  

192
00:15:46,880 --> 00:15:51,600
in the back of your mind means the total number of 
subsets with an even sum, will look like half of  

193
00:15:51,600 --> 00:15:57,280
the total. This is, needless to say, tantalizingly 
close to the actual question we want to answer;  

194
00:15:57,280 --> 00:16:02,480
what we would like to do is find some clever thing 
that we can do to the function f some well-chosen  

195
00:16:02,480 --> 00:16:07,680.0000000001164
numbers to evaluate it on so that we get all the 
coefficients corresponding to multiples of five.  

196
00:16:07,680 --> 00:16:12,160
Again, thinking back to what these coefficients 
encode for us, that will be answering our final  

197
00:16:12,160 --> 00:16:16,800
question that will be counting the total number 
of subsets whose sum is divisible by five.

198
00:16:18,960 --> 00:16:24,000
The trick to doing this is to generalize what we 
just did, where the successive powers of the input  

199
00:16:24,000 --> 00:16:28,720
were rotating back and forth, but this time 
we don&#39;t want them to rotate every other time  

200
00:16:28,720 --> 00:16:33,840
we&#39;d like them to somehow rotate with a period 
of five and to do that we extend into the complex  

201
00:16:33,840 --> 00:16:39,440
plane. You see up there we can find a value 
so that as we take successive powers of it  

202
00:16:39,440 --> 00:16:45,440
it will rotate by a fifth of a turn, giving us a 
process with a frequency of five. And, if you step  

203
00:16:45,440 --> 00:16:49,920.0000000001164
back, I know that it&#39;s kind of absurd that I&#39;m 
asking you to think about complex numbers, I mean  

204
00:16:49,920 --> 00:16:54,560
we started with a counting question. It&#39;s discrete 
math, but hopefully it&#39;s not all that wild.  

205
00:16:55,360 --> 00:16:59,600
And again, the reason that I&#39;m drawing things 
out to tee up the various strange turns in the  

206
00:16:59,600 --> 00:17:04,319.9999999998836
solution is that they&#39;re actually not all that 
strange in the broader scheme of math. The trick  

207
00:17:04,319.9999999998836 --> 00:17:09,679.9999999998836
we&#39;re about to apply has a heavy resemblance to 
many other instances of using complex numbers  

208
00:17:09,680.0000000001164 --> 00:17:14,80.00000000011642
to better understand discrete questions of 
integers, so the more it feels like something  

209
00:17:14,79.99999999988358 --> 00:17:18,480
that you could have discovered yourself the more 
it might actually be the case that when you&#39;re  

210
00:17:18,480 --> 00:17:23,120.00000000011642
working on some future problem in this circle 
of thoughts you will discover it yourself.

211
00:17:28,720 --> 00:17:32,960
To be specific, the complex number that I 
care about is one that I&#39;m going to label  

212
00:17:32,960 --> 00:17:39,680
zeta and it sits a fifth of a turn around the 
unit circle. So its angle is two pi fifths radians  

213
00:17:39,680 --> 00:17:44,880
and its magnitude is one. This means with the 
standard Euler&#39;s formula notation we would write  

214
00:17:44,880 --> 00:17:50,640
that number explicitly as e to the power 2 pi i 
divided by 5. If you&#39;re not as comfortable with  

215
00:17:50,640 --> 00:17:56,000
that notation you could think of it as something 
whose real part is the cosine of 72 degrees,  

216
00:17:56,000 --> 00:18:01,440
72 being a fifth of a full turn, and the 
imaginary part is the sine of 72 degrees.  

217
00:18:02,400 --> 00:18:06,160
But, to be honest, you don&#39;t actually 
need to think about the explicit value.  

218
00:18:06,160 --> 00:18:10,400
Instead, the important thing to focus on is 
the property that powers of this number have.  

219
00:18:10,960 --> 00:18:15,440
For example, when you square it, because its 
magnitude was one the magnitude of its square  

220
00:18:15,440 --> 00:18:20,240
is also one, but it rotates a fifth of a turn 
around the unit circle so it now sits two-fifths  

221
00:18:20,240 --> 00:18:25,520
of a turn around. Similarly, when you raise it to 
the third power you end up three-fifths of a turn  

222
00:18:25,520 --> 00:18:29,920
around, raise it to the fourth power you end up 
four-fifths of a turn and raise it to the fifth  

223
00:18:29,920 --> 00:18:34,400
power and you&#39;ve gotten all the way back around 
to one; it&#39;s the same thing as if you had raised  

224
00:18:34,400 --> 00:18:39,40.00000000023283
it to the zeroth power, we get this cycling every 
five terms, that&#39;s the thing that we care about.  

225
00:18:39,600 --> 00:18:44,320
These numbers have a special name, they&#39;re called 
the fifth roots of unity, essentially because  

226
00:18:44,320 --> 00:18:49,600
they solve the equation z to the fifth equals 
one, they are fifth roots of the number one.  

227
00:18:49,600 --> 00:18:54,000
If you just presented someone with this equation 
they would probably say the answer is clearly z  

228
00:18:54,000 --> 00:18:59,200
equals one, but the idea is that there are four 
other answers in the complex plane. Four other  

229
00:18:59,200 --> 00:19:03,440
numbers where when you raise them to the fifth you 
get one and considering them as a collective is  

230
00:19:03,440 --> 00:19:07,280
often quite useful. Remember that equation, 
it&#39;ll come back for us a little bit later.  

231
00:19:08,560 --> 00:19:13,120
So in analogy with what we did earlier where 
we added together f of one and f of negative  

232
00:19:13,120 --> 00:19:18,879.9999999997672
one to get this cancellation among the odd terms, 
what we&#39;re going to do is evaluate f at all five  

233
00:19:18,880 --> 00:19:23,440
of these numbers and then add them together and 
hopefully we get some cancellation. That might  

234
00:19:23,440 --> 00:19:28,80.00000000023283
seem kind of complicated, but let&#39;s just take a 
super simple example like the case where f of x  

235
00:19:28,080 --> 00:19:33,120
is simply equal to x. In that case, when we add up 
these five terms we&#39;re just adding up the roots of  

236
00:19:33,120 --> 00:19:38,239.99999999976717
unity themselves: zeta to the zero plus zeta to 
the one on and on up to zeta to the fourth. When  

237
00:19:38,240 --> 00:19:42,320
you add complex numbers, uh, you can think of it 
like vector addition with the tip to the tail.  

238
00:19:42,960 --> 00:19:48,800
So zeta to the zero plus zeta will look like this 
and then, if I add on zeta squared bringing the  

239
00:19:48,800 --> 00:19:53,840
tail of that vector to the tip of the last 
one we get this. Then, similarly, if I bring  

240
00:19:53,840 --> 00:19:59,439.99999999976717
the tail of zeta cubed over to the tip of that 
one and then do likewise for zeta to the fourth  

241
00:19:59,440 --> 00:20:04,000
you&#39;ll see how the overall sum actually loops 
back to be zero. Another way to think about  

242
00:20:04,000 --> 00:20:08,720
this is that all five of these terms are 
evenly balanced around the number zero;  

243
00:20:08,720 --> 00:20:14,000
their center of mass is at the origin. Now it&#39;s 
helpful to think about a slightly less trivial  

244
00:20:14,000 --> 00:20:19,920
example, if f of x was x squared. So when you 
square zeta to the zero it stays zeta to the zero.  

245
00:20:19,920 --> 00:20:25,200
This is just a fancy way of saying the number one. 
When you square zeta you get zeta squared itself,  

246
00:20:25,200 --> 00:20:29,760
so you might imagine this dot up here moving 
over to the zeta squared dot when we do it.  

247
00:20:30,400 --> 00:20:35,280.00000000023283
Theta squared moves to zeta to the fourth, so you 
might imagine this dot moving over to zeta to the  

248
00:20:35,280 --> 00:20:41,280
fourth. Theta cubed moves to zeta to the sixthm, 
which because we loop around every five times,  

249
00:20:41,280 --> 00:20:44,800
is the same thing as zeta to the 
one. So this dot will move up here.  

250
00:20:46,400 --> 00:20:51,200
And finally zeta to the fourth squares to give 
us theta to the eighth which reduces to be the  

251
00:20:51,200 --> 00:20:57,440
same as zeta cubed, which I might draw like this. 
That might seem a little confusing to think about,  

252
00:20:57,440 --> 00:21:01,360.00000000023283
especially with all the arrows I have drawn here, 
but it&#39;s worth thinking through at least once in  

253
00:21:01,360 --> 00:21:06,159.99999999976717
your life, because the idea here is that when we 
square this I go to all of these different terms  

254
00:21:06,160 --> 00:21:11,200
and I program them to double the angle that they 
have, the overall effect is to just shuffle those  

255
00:21:11,200 --> 00:21:15,760
terms. We get the same numbers but written in a 
different order, so their sum is still going to be  

256
00:21:15,760 --> 00:21:21,520
zero. Similarly, if you go through this exercise 
with x cubed, which I encourage you to do,  

257
00:21:21,520 --> 00:21:25,040
and you follow around where are each 
one of these dots going to end up,  

258
00:21:25,040 --> 00:21:28,800
you&#39;ll be able to see that when we cube 
these terms, when we take each one and we  

259
00:21:28,800 --> 00:21:34,159.99999999976717
multiply the angle that it has by three again, we 
just shuffle them around same terms listed in a  

260
00:21:34,160 --> 00:21:38,80.00000000023283
different order. Unsurprisingly, the same thing 
happens if our function was x to the fourth,  

261
00:21:41,760 --> 00:21:46,320
but critically where things change is if 
we consider the function x to the fifth.  

262
00:21:46,960 --> 00:21:52,800
In that case, when you raise zeta to the fifth 
power, by definition it goes to one. Similarly,  

263
00:21:52,800 --> 00:21:57,520
zeta squared raised to the fifth power goes to 
one. All of these go to one, they are the roots of  

264
00:21:57,520 --> 00:22:02,400
unity. This is, after all, their whole purpose in 
life. So in this case, when we apply the function  

265
00:22:02,400 --> 00:22:07,760
and add them all up instead of going to zero and 
getting cancellation we get a kind of constructive  

266
00:22:07,760 --> 00:22:13,280
interference. All of them equal one so their sum 
is equal to five. So if you step back and think  

267
00:22:13,280 --> 00:22:18,399.99999999976717
about what all those examples mean, essentially 
this expression is something that will go to zero  

268
00:22:18,400 --> 00:22:24,000
for powers of x which are not divisible by five, 
but it goes to something non-zero for powers of x  

269
00:22:24,000 --> 00:22:28,160
which are divisible by 5 and that&#39;s exactly 
the kind of filter that we&#39;re looking for.  

270
00:22:28,960 --> 00:22:33,680
If you&#39;re worried that our actual function is 
much more complicated than a simple power of x,  

271
00:22:33,680 --> 00:22:38,800
essentially things play really nicely here 
because everything is linear. If f is some massive  

272
00:22:38,800 --> 00:22:43,919.9999999997672
polynomial and we want to evaluate this big sum 
you could sort of think of going column by column,  

273
00:22:46,880 --> 00:22:52,160
where each time you really are just adding up 
powers of zeta and in most cases all those powers  

274
00:22:52,160 --> 00:22:56,80.00000000023283
cancel out with each other and you get zero, 
but when all of those powers are multiples of  

275
00:22:56,080 --> 00:23:00,879.9999999997672
five they constructively interfere and instead 
you get five times whatever the corresponding  

276
00:23:00,880 --> 00:23:05,120.00000000023283
coefficient is. Deep in the weeds it&#39;s easy 
to forget why we&#39;re here in the first place,  

277
00:23:05,120 --> 00:23:10,800
but remember each one of those coefficients tells 
us how many subsets add up to a certain value  

278
00:23:10,800 --> 00:23:14,879.9999999997672
and so what we want is to add up all of 
the coefficients that are multiples of five  

279
00:23:15,440 --> 00:23:20,640
and what we have right now is a way to explicitly 
do that. If we evaluate this function on these  

280
00:23:20,640 --> 00:23:25,360.00000000023283
five different routes of unity which I know seems 
kind of weird, then all we have to do is divide by  

281
00:23:25,360 --> 00:23:30,959.9999999997672
five and it gives us the sum that we want. That&#39;s 
really cool if you ask me. We have a question  

282
00:23:30,960 --> 00:23:36,240
that&#39;s just about subsets, it&#39;s a discrete math 
problem, and yet the way that we can answer it is  

283
00:23:36,240 --> 00:23:42,320
to evaluate a crazy polynomial on some judiciously 
chosen complex numbers. The more math you do the  

284
00:23:42,320 --> 00:23:46,879.9999999997672
less crazy that seems because complex numbers 
have this bizarre relationship with discrete math,  

285
00:23:46,880 --> 00:23:51,280.00000000023283
but it really is wonderful there&#39;s no two 
ways about it. However, some of you might  

286
00:23:51,280 --> 00:23:56,879.9999999997672
complain that the only way that this is useful is 
if we can actually evaluate this wild expression  

287
00:23:56,880 --> 00:24:02,320.00000000023283
on our polynomial. Now, remember, the form of the 
polynomial we know the one we&#39;re comfortable with  

288
00:24:02,320 --> 00:24:07,040
is the factored form where you have this one plus 
x one plus x squared on and on all the way up to  

289
00:24:07,040 --> 00:24:12,480
one plus x to the two thousand. Everything up 
to this point is just meaningless symbolic play  

290
00:24:12,480 --> 00:24:16,640
pushing around one hard problem into another 
unless we can actually roll up our sleeves  

291
00:24:16,640 --> 00:24:21,440
and do some honest calculation here. This is 
the final thrust in our argument so step back,  

292
00:24:21,440 --> 00:24:26,000
take a deep breath. It&#39;s actually not as bad as 
you might think, but let&#39;s start just by thinking  

293
00:24:26,000 --> 00:24:30,640
about how you might evaluate just one of the 
roots of unity that we need, maybe zeta itself.  

294
00:24:31,520 --> 00:24:35,920
So what that looks like is one plus zeta times 
one plus zeta squared times one plus a to cubed  

295
00:24:35,920 --> 00:24:41,600.0000000002328
on and on except, importantly, after those first 
five terms everything starts repeating, because  

296
00:24:41,600 --> 00:24:47,360
powers of zeta repeat the entire expression up to 
2000 is basically just going to be a copy of this  

297
00:24:47,360 --> 00:24:53,199.99999999976717
expression 400 times. It still might seem hard to 
evaluate this expression, but it&#39;s way easier than  

298
00:24:53,200 --> 00:24:57,840.0000000002328
multiplying out 2,000 different terms. A way 
you might visualize this is that we&#39;re taking  

299
00:24:57,840 --> 00:25:02,800
each one of those roots of unity but basically 
adding one, we&#39;re shifting them all to the right.  

300
00:25:02,800 --> 00:25:07,360
This picture actually lends itself to a really 
nice geometric intuition for the numerical answer  

301
00:25:07,360 --> 00:25:12,479.99999999976717
that we might expect. The thing that we want 
is the product of these five different complex  

302
00:25:12,480 --> 00:25:17,360.00000000023283
numbers, these five yellow dots and if you know 
a thing or two about complex numbers since these  

303
00:25:17,360 --> 00:25:22,879.9999999997672
come in conjugate pairs all we really need is to 
multiply the lengths of these five yellow lines.  

304
00:25:23,760 --> 00:25:28,879.9999999997672
For example, that dot furthest to the right 
corresponds to one plus zeta to the fifth,  

305
00:25:28,880 --> 00:25:33,600.0000000002328
which in the diagram I&#39;m labeling as zeta to 
the zero plus one, but it doesn&#39;t matter in  

306
00:25:33,600 --> 00:25:37,360
either case they&#39;re both just fancy ways 
of writing the number two. Next to that,  

307
00:25:37,360 --> 00:25:42,320
we have the values one plus zeta and one plus 
zeta to the fourth, both of which have the same  

308
00:25:42,320 --> 00:25:47,360
magnitude. The lengths of these lines are the same 
and let&#39;s just give that a name L1. So we need to  

309
00:25:47,360 --> 00:25:53,280
multiply two different copies of that length L1 
squared. Similarly, the remaining two values theta  

310
00:25:53,280 --> 00:25:57,760
squared plus one and zeta cubed plus one, they 
also have the same length and they&#39;re a conjugate  

311
00:25:57,760 --> 00:26:04,080
pair so let&#39;s just call that length L2. So our 
product needs to include two copies of that L2.  

312
00:26:04,080 --> 00:26:08,800
If we were just making a loose heuristic guess 
you might notice that L1 is a length that&#39;s  

313
00:26:08,800 --> 00:26:13,840
something a little bit longer than one and L2 
is something a little bit shorter than one,  

314
00:26:13,840 --> 00:26:18,480
so the final answer here probably comes to 
something around two ish. We&#39;re not positive,  

315
00:26:18,480 --> 00:26:22,640
but something in that ballpark. To turn 
this into an exact answer we could just  

316
00:26:22,640 --> 00:26:27,200
expand out the full expression. It&#39;s honestly 
not that bad there&#39;s only 32 different terms.

317
00:26:33,360 --> 00:26:37,120
Okay, you&#39;ve hung with me for a long time 
now, and I know that it&#39;s getting to be a lot.  

318
00:26:37,120 --> 00:26:40,719.9999999997672
But there&#39;s one final trick in this 
whole argument that makes our last step  

319
00:26:40,720 --> 00:26:42,400
much simpler than you might think it should be.

320
00:26:43,040 --> 00:26:46,800
And let&#39;s just recap to remind ourselves of 
where we are. We started with this question  

321
00:26:46,800 --> 00:26:52,879.9999999997672
asking us to count the number of subsets of 1 up 
to 2 000 whose sum is divisible by five. We then  

322
00:26:52,880 --> 00:26:58,80.00000000023283
constructed this polynomial whose coefficients 
tell us how many subsets have a particular sum for  

323
00:26:58,080 --> 00:27:04,960
each value n. So what we want is to add up every 
fifth coefficient of that polynomial. Then we  

324
00:27:04,960 --> 00:27:10,080
saw how evaluating this polynomial as a function 
on all of the fifth roots of unity, then adding  

325
00:27:10,080 --> 00:27:14,800
them up, ends up giving us exactly this filter 
that we want. And here we&#39;re evaluating just  

326
00:27:14,800 --> 00:27:20,240
one of those terms, f(zeta), which essentially 
comes down to a product of five complex numbers.

327
00:27:20,240 --> 00:27:25,440
As a super slick way to actually evaluate that 
product, here&#39;s the final trick. Remember,  

328
00:27:25,440 --> 00:27:30,880
I described these numbers as “roots of unity,” 
they solve the equation z to the fifth equals one.  

329
00:27:30,880 --> 00:27:33,840.0000000002328
Another way to think about that is 
that they are roots of the polynomial  

330
00:27:34,480 --> 00:27:39,760
z to the fifth minus one. Now what that 
means is we can factor the polynomial z  

331
00:27:39,760 --> 00:27:44,320
to the fifth minus one to look like this, 
where there&#39;s one factor corresponding to  

332
00:27:44,320 --> 00:27:47,520
each one of the roots; you take 
z minus each one of the roots.

333
00:27:47,520 --> 00:27:51,520
This expression is kind of magical when you think 
about all of the crazy cancellations that has to  

334
00:27:51,520 --> 00:27:56,720
happen when you expand it all out, but it is 
true, and it&#39;s super useful for us right now,  

335
00:27:56,720 --> 00:28:01,360.00000000023283
because the expression on the right-hand side 
looks almost identical to the thing we need to  

336
00:28:01,360 --> 00:28:06,240
evaluate up at the top here. It basically just has 
minus signs where we wish there were plus signs.  

337
00:28:07,440 --> 00:28:13,200
The trick is to plug in z equals negative one. If 
you do that, you essentially have the negative of  

338
00:28:13,200 --> 00:28:18,480
what we want, so if you multiply it by negative 
one, notice how the left-hand side here, which  

339
00:28:18,480 --> 00:28:22,400
started out as negative one minus one, 
or negative two, that just becomes two.  

340
00:28:22,960 --> 00:28:26,720
And then the right-hand side turns into 
the thing that we want to evaluate.  

341
00:28:26,720 --> 00:28:30,320
So just as our geometric intuition 
earlier might have suggested,  

342
00:28:30,320 --> 00:28:35,439.99999999976717
not only is the answer around two, the answer 
quite magically turns out to be precisely two.

343
00:28:36,240 --> 00:28:40,880
That is actually super nice, and very lovely, 
because it means this bigger expression that  

344
00:28:40,880 --> 00:28:45,200
we want to evaluate, where we&#39;re adding up 
f on all of the different roots of unity,  

345
00:28:45,200 --> 00:28:49,520
we know its value on the first root of 
unity. It will be 2 to the power 400.  

346
00:28:49,520 --> 00:28:54,160
Essentially identical reasoning shows that its 
value on the next three roots of unity is also  

347
00:28:54,160 --> 00:28:59,120.00000000023283
2 to the power 400. Because remember, when you 
take powers of zeta squared, or zeta cubed,  

348
00:28:59,120 --> 00:29:02,080
you get the same list of numbers, they&#39;re 
just shuffled in a different order.

349
00:29:02,720 --> 00:29:06,160
The only one that&#39;s different is when we evaluate 
it at zeta to the zero’th. But zeta to the zero’th  

350
00:29:07,760 --> 00:29:11,920
is a fancy way of saying the number one, 
and we know how to evaluate this at one,  

351
00:29:11,920 --> 00:29:15,600.0000000002328
that&#39;s one of the easy things. We did this 
earlier. All of these parentheticals turn  

352
00:29:15,600 --> 00:29:19,760
into two, so it looks like taking two 
multiplied by itself two thousand times.

353
00:29:20,320 --> 00:29:24,800
And so finally with that, we have a 
highly explicit honest answer to our  

354
00:29:24,800 --> 00:29:29,520
counting question. To add up all of these 
coefficients which are divisible by five,  

355
00:29:29,520 --> 00:29:34,639.9999999997672
which remember is a way of counting how many 
total subsets have a sum divisible by five,  

356
00:29:34,640 --> 00:29:40,560.0000000002328
the answer is one-fifth of this weird complex 
expression, which we just computed to be two to  

357
00:29:40,560 --> 00:29:44,399.99999999976717
the two thousand, plus four different 
copies of two to the four hundred.

358
00:29:45,440 --> 00:29:49,280
And here you might want to do just a quick 
sanity check on does this answer make any sense.  

359
00:29:49,920 --> 00:29:52,960
For example, if you do it in the 
smaller case with the set {1, 2,  

360
00:29:52,960 --> 00:29:56,800
3, 4, 5} and you walk through all 
the same reasoning that we just did,  

361
00:29:56,800 --> 00:30:01,520
it tells you that the answer is one-fifth of 
two to the fifth, the total number of subsets,  

362
00:30:01,520 --> 00:30:07,360
plus four times two to the one, in this 
case, which is a fifth of 32 plus 8, which  

363
00:30:07,360 --> 00:30:12,159.99999999976717
is 8. And if you&#39;ll remember when we explicitly 
looked at them all that was in fact the answer.

364
00:30:17,600 --> 00:30:22,080
Look, this is a hard puzzle, and when it&#39;s worth 
putting in the time to solve a hard problem  

365
00:30:22,080 --> 00:30:25,919.9999999997672
it&#39;s also worth taking some time to reflect on it. 
What do you get out of this? What&#39;s the takeaway?  

366
00:30:26,800 --> 00:30:30,800
You could reflect on the answer itself, 
how the dominant part is indeed one-fifth  

367
00:30:30,800 --> 00:30:34,639.9999999997672
of all the total subsets like we might have 
guessed, and how this error term came about  

368
00:30:34,640 --> 00:30:39,280.00000000023283
from the not-quite-destructive interference 
in a massive combination of roots of unity.

369
00:30:40,000 --> 00:30:43,520
But again what makes this question 
interesting is not the answer,  

370
00:30:43,520 --> 00:30:48,720
it&#39;s the way that we solved it. Namely, taking a 
discrete sequence that we want to understand and  

371
00:30:48,720 --> 00:30:55,040
treating it as the coefficients on a polynomial, 
then evaluating that polynomial on complex values.  

372
00:30:55,680 --> 00:30:59,920
Both of those steps are probably highly 
unexpected at the outset. But both of those  

373
00:30:59,920 --> 00:31:04,160
steps relate to some very general and powerful 
techniques that you&#39;ll find elsewhere in math.

374
00:31:04,720 --> 00:31:09,120.00000000023283
For example, at the top of the lesson, I 
promised that the technique that we would use  

375
00:31:09,120 --> 00:31:12,320
would be similar in spirit to 
the way that primes are studied,  

376
00:31:12,320 --> 00:31:16,240
and the set of ideas that leads up to the 
Riemann hypothesis and things like that.  

377
00:31:16,240 --> 00:31:20,560
Now, this is a very beautiful topic, enough 
so that I think it seems a little criminal to  

378
00:31:20,560 --> 00:31:24,800
cram some kind of rushed version into the 
end here. The right thing to do, I think,  

379
00:31:24,800 --> 00:31:29,120
is to just make that video I promised a while 
back about the zeta function. Take the time,  

380
00:31:29,120 --> 00:31:33,840
do it right. But if you&#39;re curious, and if you&#39;ll 
allow me to throw some things up on the screen  

381
00:31:33,840 --> 00:31:38,240
without explaining them, here&#39;s the two or three 
sentence version of how the two are parallel.

382
00:31:38,880 --> 00:31:43,360.00000000023283
Just like our subsets puzzle, the way that 
Riemann studied primes involved a discrete  

383
00:31:43,360 --> 00:31:47,760
sequence we want to understand, something 
carrying information about prime numbers,  

384
00:31:47,760 --> 00:31:52,240
and then considering a function whose 
coefficients are the terms in that sequence.  

385
00:31:53,040 --> 00:31:56,720
In that case, it&#39;s not quite a polynomial, 
instead, it&#39;s a related structure known as a  

386
00:31:56,720 --> 00:32:02,000
Dirichlet series (or Dir-ick-ley series, depending 
on who you ask) but it&#39;s the same essential idea.  

387
00:32:02,000 --> 00:32:07,360
Then, the way to suss out information about 
those coefficients comes from studying how  

388
00:32:07,360 --> 00:32:12,879.9999999997672
this function behaves with, you guessed 
it, complex-valued inputs. The techniques  

389
00:32:12,880 --> 00:32:18,400
in his case get a lot more sophisticated, after 
all, Riemann was a pioneer in complex analysis.  

390
00:32:18,400 --> 00:32:22,240
But the fact remains, extending your 
domain beyond real numbers like this  

391
00:32:22,240 --> 00:32:27,840
offers you, the mathematician, a lot more power 
in making deductions about the coefficients.

392
00:32:28,480 --> 00:32:31,040
For some viewers, this all might 
leave the lingering question of  

393
00:32:31,600 --> 00:32:35,760
why exactly complex numbers are so 
unreasonably useful in this way.  

394
00:32:36,480 --> 00:32:41,280
It&#39;s a hard question to answer exactly, but if you 
think about our puzzle, everything we just did,  

395
00:32:41,280 --> 00:32:45,200
as soon as we were in this situation where 
plugging in different inputs revealed hidden  

396
00:32:45,200 --> 00:32:50,80.00000000023283
information about the coefficients, it&#39;s sort 
of like, the more inputs you can work with the  

397
00:32:50,080 --> 00:32:55,040
better. So you might as well open yourself up to 
a richer space of numbers, like the complex plane.

398
00:32:55,600 --> 00:32:59,360
But there is a more specific intuition 
that I want you to come away with here.  

399
00:32:59,920 --> 00:33:04,160
In our puzzle, the relevant fact that we 
wanted, the sum of every fifth coefficient,  

400
00:33:04,720 --> 00:33:08,800
was a kind of frequency question. And 
the real reason that complex numbers,  

401
00:33:08,800 --> 00:33:13,760
as opposed to some other structure, proved to 
be useful for us is that we could find a value  

402
00:33:13,760 --> 00:33:18,879.9999999997672
so that successive products have this cycling 
behavior. this use of values on the unit circle,  

403
00:33:18,880 --> 00:33:24,160
and roots of unity, in particular, to suss out 
frequency information is extremely fruitful.  

404
00:33:24,160 --> 00:33:27,760
It’s almost impossible to 
overstate how helpful that idea is.

405
00:33:28,400 --> 00:33:33,840.0000000002328
Just to give one out of thousands of examples, 
in the 1990s Peter Shor found a way for quantum  

406
00:33:33,840 --> 00:33:38,399.99999999976717
computers to factor large numbers way, 
way faster than classical computers can.  

407
00:33:38,400 --> 00:33:42,880
And if you go in and you look at the details of 
how what we now call “Shor&#39;s algorithm” works,  

408
00:33:43,440 --> 00:33:49,120.00000000023283
the idea is essentially this, the use of roots of 
unity to detect a kind of frequency information.  

409
00:33:49,120 --> 00:33:52,399.99999999976717
More generally, this is the core idea 
that underlies Fourier transforms,  

410
00:33:52,400 --> 00:33:56,000
and Fourier series, and the infinite 
swell of topics that follow from those.

411
00:33:56,800 --> 00:34:00,720
As to the topic of generating functions 
themselves, we&#39;ve really only just scratched  

412
00:34:00,720 --> 00:34:05,120.00000000023283
the surface here, and if you want to learn more 
I highly recommend this (kind of hilariously  

413
00:34:05,120 --> 00:34:10,080
named) book generatingfunctionology by Herbert 
Wilf. I&#39;ll also leave up a few fun puzzles on  

414
00:34:10,080 --> 00:34:19,840.0000000002328
the screen here for anyone who wants to 
flex their muscles a bit with the idea.

